#!/bin/bash

trap "exit" INT

if [[ -z $1 ]]; then
    echo "Usage: $0 192.168.1.0/24"
    exit 1
fi

RED='\033[0;31m'
GREEN='\033[1;32m'
NONE='\033[0m'

for ip in $(prips $1); do
    echo -n "Host $ip seems... "
    if ping -W 1 -c 1 $ip &>/dev/null; then
        echo -e "${GREEN}up${NONE}"
    else
        echo -e "${RED}down${NONE}"
    fi
done
