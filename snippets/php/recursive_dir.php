<?php

// "/Users/" (macOS)
// "/home/" (GNU/Linux)
// "C:\Documents and Settings\" (Windows 2000/XP/2003)
// "C:\Users\" (Windows Vista/2008/7/8/2012/10)

function list_files($path=".") {
    $ignore = array(".", "..");
    $dh = @opendir($path);
    while(false !== ($file=readdir($dh))) {
        if(!in_array($file, $ignore)) {
            if (is_dir("$path/$file")) {
                list_files("$path/$file");
            } else {
                echo "$path/$file<br/>";
            }
        }
    }
    closedir($dh);
}

if(isset($_GET["dir"]))
{
    print_r(list_files($_GET["dir"]));
}

?>